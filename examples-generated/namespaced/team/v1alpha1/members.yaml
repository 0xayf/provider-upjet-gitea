apiVersion: team.gitea.m.crossplane.io/v1alpha1
kind: Members
metadata:
  annotations:
    meta.upbound.io/example-id: team/v1alpha1/members
  labels:
    testing.upbound.io/example-name: example_members
  name: example-members
  namespace: crossplane-system
spec:
  forProvider:
    members: '${[for user in gitea_user.example_users : user.username]}'
    teamId: ${gitea_team.example_team.id}

---

apiVersion: gitea.gitea.m.crossplane.io/v1alpha1
kind: Org
metadata:
  annotations:
    meta.upbound.io/example-id: team/v1alpha1/members
  labels:
    testing.upbound.io/example-name: example_org
  name: example-org
  namespace: crossplane-system
spec:
  forProvider:
    name: members_example_org

---

apiVersion: gitea.gitea.m.crossplane.io/v1alpha1
kind: Team
metadata:
  annotations:
    meta.upbound.io/example-id: team/v1alpha1/members
  labels:
    testing.upbound.io/example-name: example_team
  name: example-team
  namespace: crossplane-system
spec:
  forProvider:
    description: An example of team membership
    name: members_example_team
    organisation: members_example_org
    permission: read

---

apiVersion: gitea.gitea.m.crossplane.io/v1alpha1
kind: User
metadata:
  annotations:
    meta.upbound.io/example-id: team/v1alpha1/members
  labels:
    testing.upbound.io/example-name: example_users
  name: example-users
  namespace: crossplane-system
spec:
  forProvider:
    count: 5
    email: members_example_user_${count.index}@user.dev
    loginName: members_example_user_${count.index}
    passwordSecretRef:
      key: example-key
      name: example-secret
    username: members_example_user_${count.index}
